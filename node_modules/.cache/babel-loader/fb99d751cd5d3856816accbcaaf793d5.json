{"ast":null,"code":"var _jsxFileName = \"/Users/Thomas.Wang/Documents/\\u524D\\u7AEF/redux-app/src/pages/StateComponent.js\";\nimport React, { Component } from \"react\";\nexport default class StateComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateState = () => {\n      this.setState({\n        count: this.state.count + 1\n      });\n      this.setState({\n        count: this.state.count + 1\n      });\n      this.setState({\n        count: this.state.count + 1\n      });\n      console.info('StateComponent', 'updateState', this.state.count);\n    };\n\n    this.promiseUpdateState = () => {\n      Promise.resolve().then(() => {\n        this.setState({\n          count: this.state.count + 1\n        });\n        this.setState({\n          count: this.state.count + 1\n        });\n        this.setState({\n          count: this.state.count + 1\n        });\n        console.info('StateComponent', 'promiseUpdateState', this.state.count);\n      });\n    };\n\n    console.info('StateComponent', 'constructor');\n    this.state = {\n      count: 1\n    };\n  }\n\n  static getDerivedStateFromProps(props) {\n    console.info('StateComponent', 'getDerivedStateFromProps');\n    const count = props.count;\n\n    if (count) {\n      return {\n        count\n      };\n    }\n\n    return null;\n  }\n\n  render() {\n    const count = this.state.count;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, count), React.createElement(\"button\", {\n      onClick: this.updateState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, \"\\u70B9\\u6211\\u554A\\u6539\\u53D8state\"), React.createElement(\"button\", {\n      onClick: this.promiseUpdateState,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"promise\\u70B9\\u51FB\\u6539\\u53D8state\"));\n  }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    console.info('StateComponent', 'getSnapshotBeforeUpdate');\n    return {\n      count: 10\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    console.info('StateComponent', 'componentDidUpdate', snapshot, this.state.count);\n  }\n\n}","map":{"version":3,"sources":["/Users/Thomas.Wang/Documents/前端/redux-app/src/pages/StateComponent.js"],"names":["React","Component","StateComponent","constructor","props","updateState","setState","count","state","console","info","promiseUpdateState","Promise","resolve","then","getDerivedStateFromProps","render","getSnapshotBeforeUpdate","prevProps","prevState","componentDidUpdate","snapshot"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,MAAMC,cAAN,SAA6BD,SAA7B,CAAuC;AAEpDE,EAAAA,WAAW,CAAEC,KAAF,EAAS;AAClB,UAAMA,KAAN;;AADkB,SAuCpBC,WAvCoB,GAuCN,MAAM;AAClB,WAAKC,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,OAAd;AACA,WAAKD,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,OAAd;AACA,WAAKD,QAAL,CAAc;AAAEC,QAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,OAAd;AACAE,MAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,aAA/B,EAA8C,KAAKF,KAAL,CAAWD,KAAzD;AACD,KA5CmB;;AAAA,SA6CpBI,kBA7CoB,GA6CC,MAAM;AACzBC,MAAAA,OAAO,CAACC,OAAR,GAAkBC,IAAlB,CAAuB,MAAM;AAC3B,aAAKR,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,SAAd;AACA,aAAKD,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,SAAd;AACA,aAAKD,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAE,KAAKC,KAAL,CAAWD,KAAX,GAAmB;AAA5B,SAAd;AACAE,QAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,oBAA/B,EAAqD,KAAKF,KAAL,CAAWD,KAAhE;AACD,OALD;AAOD,KArDmB;;AAElBE,IAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,aAA/B;AACA,SAAKF,KAAL,GAAa;AACXD,MAAAA,KAAK,EAAE;AADI,KAAb;AAGD;;AAED,SAAOQ,wBAAP,CAAiCX,KAAjC,EAAwC;AACtCK,IAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,0BAA/B;AADsC,UAE9BH,KAF8B,GAEpBH,KAFoB,CAE9BG,KAF8B;;AAGtC,QAAIA,KAAJ,EAAW;AACT,aAAO;AAAEA,QAAAA;AAAF,OAAP;AACD;;AACD,WAAO,IAAP;AACD;;AAEDS,EAAAA,MAAM,GAAI;AAAA,UACAT,KADA,GACU,KAAKC,KADf,CACAD,KADA;AAER,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAOA,KAAP,CADF,EAEE;AAAQ,MAAA,OAAO,EAAE,KAAKF,WAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAFF,EAGE;AAAQ,MAAA,OAAO,EAAE,KAAKM,kBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAHF,CADF;AAOD;;AAEDM,EAAAA,uBAAuB,CAAEC,SAAF,EAAaC,SAAb,EAAwB;AAC7CV,IAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,yBAA/B;AACA,WAAO;AACLH,MAAAA,KAAK,EAAE;AADF,KAAP;AAGD;;AAEDa,EAAAA,kBAAkB,CAAEF,SAAF,EAAaC,SAAb,EAAwBE,QAAxB,EAAkC;AAClDZ,IAAAA,OAAO,CAACC,IAAR,CAAa,gBAAb,EAA+B,oBAA/B,EAAqDW,QAArD,EAA+D,KAAKb,KAAL,CAAWD,KAA1E;AACD;;AAvCmD","sourcesContent":["import React, { Component } from \"react\";\n\nexport default class StateComponent extends Component {\n\n  constructor (props) {\n    super(props);\n    console.info('StateComponent', 'constructor')\n    this.state = {\n      count: 1\n    }\n  }\n\n  static getDerivedStateFromProps (props) {\n    console.info('StateComponent', 'getDerivedStateFromProps')\n    const { count } = props\n    if (count) {\n      return { count }\n    }\n    return null\n  }\n\n  render () {\n    const { count } = this.state\n    return (\n      <div>\n        <span>{count}</span>\n        <button onClick={this.updateState}>点我啊改变state</button>\n        <button onClick={this.promiseUpdateState}>promise点击改变state</button>\n      </div>\n    )\n  }\n\n  getSnapshotBeforeUpdate (prevProps, prevState) {\n    console.info('StateComponent', 'getSnapshotBeforeUpdate')\n    return {\n      count: 10\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState, snapshot) {\n    console.info('StateComponent', 'componentDidUpdate', snapshot, this.state.count)\n  }\n\n  updateState = () => {\n    this.setState({ count: this.state.count + 1 })\n    this.setState({ count: this.state.count + 1 })\n    this.setState({ count: this.state.count + 1 })\n    console.info('StateComponent', 'updateState', this.state.count)\n  }\n  promiseUpdateState = () => {\n    Promise.resolve().then(() => {\n      this.setState({ count: this.state.count + 1 })\n      this.setState({ count: this.state.count + 1 })\n      this.setState({ count: this.state.count + 1 })\n      console.info('StateComponent', 'promiseUpdateState', this.state.count)\n    })\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}